name: Fundamentals

on:
  workflow_dispatch:

jobs:
  sayhello:
    runs-on: ubuntu-latest
    steps:
      - name: Waving
        run: echo Hello world ðŸ‘‹ðŸ‘‹ðŸ‘‹ðŸ‘‹

      - name: Install cowsay
        run: |
          sudo apt update
          sudo apt install -y --no-install-recommends cowsay

      - name: Run cowsay
        id: print-tree
        run: |
          cowsay_output="$(cowsay Hello world ðŸ‘‹ðŸ‘‹ðŸ‘‹)"
          echo ${cowsay_output}
          echo "TREE<<EOF" >> "$GITHUB_OUTPUT"
          echo "${cowsay_output}" >> "$GITHUB_OUTPUT"
          echo "EOF" >> "$GITHUB_OUTPUT"

      - name: Say hello from Discord
        uses: sebastianpopp/discord-action@releases/v2
        with:
          webhook: ${{ secrets.DISCORD_WEBHOOK }}
          message: "```${{ steps.print-tree.outputs.TREE }}```"
